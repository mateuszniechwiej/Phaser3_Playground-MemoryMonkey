<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Making your first Phaser 3 Game - Part 10</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

const config = {
	type: Phaser.AUTO,
	width: 400,
	height: 500,
	backgroundColor: "#5f2a55",
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: true
        }
    },
	scene: {
    preload,
    create,
    update
	}
}


const gameState = {}

var player;
var bomb;
var counter = 0;


function preload() {
  this.load.image('gracz', 'https://content.codecademy.com/courses/learn-phaser/codey.png');
  this.load.image('bomb', 'assets/bomb.png');
}


function create() {

    const text = this.add.text(0, 0, '', { font: '16px Courier', fill: '#00ff00' });

    text.setText([
    `Bomb Count: ${counter}`,
    
    ]);

    console.log(text)

    player = this.physics.add.sprite(300, 450, 'gracz');

    bomb = this.physics.add.sprite(100, 300, 'bomb')

    this.physics.add.overlap(player, bomb, bombcollect, null, this);

  gameState.cursors = this.input.keyboard.createCursorKeys();

 
  function bombcollect(player, bomb)

{
    var x=Phaser.Math.Between(0,400)
    var y=Phaser.Math.Between(0,400)

    bomb.setPosition(x, y);



    counter +=1;
        text.setText([
        `Bomb Count: ${counter}`
        
        ]);


   
}
  

}




function update() {
  // Update based on keypress here!
 if (gameState.cursors.left.isDown) {
    // move the circle left!
    player.x -= 3;
  }
  if (gameState.cursors.right.isDown) {
    // move the circle left!
    player.x -= -3;
  }
  if (gameState.cursors.up.isDown) {
    // move the circle left!
    player.y -= 3;
  }
  if (gameState.cursors.down.isDown) {
    // move the circle left!
    player.y -= -3;
  }
}



const game = new Phaser.Game(config)

</script>

</body>
</html>