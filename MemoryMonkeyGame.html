<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Making your first Phaser 3 Game - Part 10</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>

<body>

    <script type="text/javascript">

        const config = {
            type: Phaser.AUTO,
            width: window.innerWidth * window.devicePixelRatio ,
            height: window.innerHeight * window.devicePixelRatio,
            backgroundColor: "0",

            scene: {
                preload,
                create,
                //update

            }
        }

        const game = new Phaser.Game(config)
        var size = (0.4)


        function preload() {

            this.load.atlas('numbers', 'assets/Numbers.png', 'assets/numbers.json');

        }

        //DUPA!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        function create() {
            let sprites = [];
            let blank = true;
            //array na przechwywanie liczb
            var uniqueRandoms = [];
            // ilosc losowych liczb
            var numRandoms = 5;
            // funkcja losowych liczb od 1-5 
            function makeUniqueRandom() {
                if (!uniqueRandoms.length) {
                    for (var i = 0; i < numRandoms; i++) {
                        uniqueRandoms.push(i);
                    }
                }
                var index = Math.floor(Math.random() * uniqueRandoms.length);
                var val = uniqueRandoms[index];

                // usuwanie tej liczby ktora juz byla by sie nie powalilo
                uniqueRandoms.splice(index, 1);
                return val;

            }
            for (let step = 0; step < 9; step++) {
                let xx = Phaser.Math.Between(game.config.width*.1,game.config.width*.9);
                let yy = Phaser.Math.Between(game.config.height*.1,game.config.height*.9);
                sprites[step] = this.add.image(xx, yy, 'numbers', `spriteBlank`).setInteractive();
                sprites[step].setScale(size);
                sprites[step].on('pointerdown', function (pointer) {
                    if (blank === true) {
                        sprites[step].setFrame(`sprite${step + 1}`);
                        blank = false;
                    } else {
                        sprites[step].setFrame(`spriteBlank`);
                        blank = true;
                    }
                })
            }
            console.log(sprites);
        }





            // sprite1 = this.add.image(400, 200, 'numbers', 'spriteBlank').setInteractive();
            // sprite1.setScale(size);
            // sprite1.on('pointerdown', function (pointer) {
            //     sprite1.setFrame('sprite1');
            // }
            // );

            // sprite2 = this.add.image(400, 400, 'numbers', 'spriteBlank').setInteractive();
            // sprite2.setScale(size);
            // sprite2.on('pointerdown', function (pointer) {
            // sprite2.setFrame('sprite2');
            // }
            // );

            // sprite3 = this.add.image(400, 600, 'numbers', 'spriteBlank').setInteractive();
            // sprite3.setScale(size);
            // sprite3.on('pointerdown', function (pointer) {
            // sprite3.setFrame('sprite3');
            // }
            // );


    </script>

</body>

</html>